<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Dashboard - Live RIS</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap & Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" th:href="@{/css/dashboard.css}">
</head>
<body>

<!-- Sidebar -->
<div class="sidebar" id="sidebar">
    <div class="text-center mb-4">
        <h4>Live RIS</h4>
        <small>Role: <span th:text="${role}">Admin</span></small>
    </div>
    <nav class="nav flex-column">
        <a class="nav-link active" href="#"><i class="fas fa-home me-2"></i> Dashboard</a>

        <!-- Reception Submenu -->
        <div class="nav-item">
            <a class="nav-link" href="#" onclick="toggleSubmenu(event)">
                <i class="fas fa-user-nurse me-2"></i>Reception<i class="fas fa-chevron-down float-end"></i>
            </a>
            <div class="nav flex-column ms-3 d-none" id="submenu">
                <a class="nav-link" href="/patients/register"><i class="fas fa-user-plus me-2"></i> Register Patient</a>
                <a class="nav-link" href="/patients/list"><i class="fas fa-users me-2"></i> Patient List</a>
                <a class="nav-link" href="/patients/investigation_entry"><i class="fas fa-vials me-2"></i> Exam Entry</a>
                <a class="nav-link" href="/inv_entry/list"><i class="fas fa-clipboard-list me-2"></i> Exams Entry List</a>
            </div>
        </div>

        <!-- Technician Submenu -->
        <div class="nav-item">
            <a class="nav-link" href="#" onclick="toggleSubmenu(event)">
                <i class="fas fa-microscope me-2"></i>Technician<i class="fas fa-chevron-down float-end"></i>
            </a>
            <div class="nav flex-column ms-3 d-none" id="submenu">
                <a class="nav-link" href="#"><i class="fas fa-user-cog me-2"></i> gg</a>
                <a class="nav-link" href="#"><i class="fas fa-tasks me-2"></i> gg</a>
            </div>
        </div>

        <!-- Investigations Submenu -->
        <div class="nav-item">
            <a class="nav-link" href="#" onclick="toggleSubmenu(event)">
                <i class="fas fa-flask me-2"></i>Investigations<i class="fas fa-chevron-down float-end"></i>
            </a>
            <div class="nav flex-column ms-3 d-none" id="submenu">
                <a class="nav-link" href="/investigations/add"><i class="fas fa-plus-square me-2"></i>New Investigation</a>
                <a class="nav-link" href="/investigations"><i class="fas fa-list me-2"></i> Investigations List</a>
            </div>
        </div>

        <!-- Templates Submenu -->
        <div class="nav-item">
            <a class="nav-link" href="#" onclick="toggleSubmenu(event)">
                <i class="fas fa-file-alt me-2"></i>Templates<i class="fas fa-chevron-down float-end"></i>
            </a>
            <div class="nav flex-column ms-3 d-none" id="submenu">
                <a class="nav-link" href="/templates"><i class="fas fa-file-lines me-2"></i> Templates List</a>
            </div>
        </div>

        <!-- Users Submenu -->
        <div class="nav-item">
            <a class="nav-link" href="#" onclick="toggleSubmenu(event)">
                <i class="fas fa-users-cog me-2"></i>Users<i class="fas fa-chevron-down float-end"></i>
            </a>
            <div class="nav flex-column ms-3 d-none" id="submenu">
                <a class="nav-link" href="/users/new"><i class="fas fa-user-plus me-2"></i>User Entry</a>
                <a class="nav-link" href="/users"><i class="fas fa-user-friends me-2"></i> Users List</a>
            </div>
        </div>

        <!-- Report Generate -->
        <a class="nav-link" href="/inv_entry/reportlist"><i class="fas fa-print me-2"></i> Report Generate</a>

        <!-- Settings -->
        <a class="nav-link" href="#"><i class="fas fa-cogs me-2"></i> Settings</a>
    </nav>
</div>

<!-- Main Content -->
<div class="content">
    <!-- Top Navbar -->
    <div class="top-navbar">
        <button class="menu-toggle text-primary" id="menuToggle"><i class="fas fa-bars"></i></button>
        <img src="https://via.placeholder.com/40" class="profile-img" id="profileImg" alt="Profile">
        <div class="profile-dropdown" id="profileDropdown">
            <a href="/profile"><i class="fas fa-user me-2"></i>Profile</a>
            <a href="/logout"><i class="fas fa-sign-out-alt me-2"></i>Logout</a>
        </div>
    </div>

    <!-- Dashboard Content -->
    <div class="mt-4 welcome-card">
        <h3 class="mb-3">Welcome to Live RIS Dashboard</h3>
        <p class="text-muted">Select an activity from the sidebar to get started.</p>
    </div>
</div>

<!-- Custom Scripts -->
<script th:src="@{/js/dashboard.js}"></script>

<!-- Submenu Toggle Script -->
<script>
    function toggleSubmenu(event) {
        event.preventDefault();
        const submenu = event.currentTarget.nextElementSibling;
        submenu.classList.toggle('d-none');
    }
</script>

</body>
</html>
